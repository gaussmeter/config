<div class="container" id="data" style="position: relative; width: 80%; ">
    <div id={this.props.containerId} style="position: relative; width: 80%; position: absolute; left: 1px; right: 1px; top: 1px; bottom: 1px; min-width: 100%; max-height: 100%; "> </div>
    Data -- These are not the droids you are looking for.
</div>
<div class="container" id="legend">

</div>
<script>
    $(document).ready(function () {
        $('#data').load("wheel.html");
        var data = [];
        $.getJSON("/streamr/ts_", function (stream) {
            total = stream['kv'].length;
            $.each(stream['kv'], function (i, item) {
                state = $.parseJSON(atob(item['value']));
                if (state['data_state']['isGood'] == true) {
                    datetime = new Date(0);
                    datetime.setUTCSeconds(atob(item['key']).replace('ts_',''));
                    data.push([datetime, state['charge_state']['battery_range'], state['charge_state']['charge_rate'], state['charge_state']['battery_level'], parseInt(state['vehicle_state']['distanceFromHome']) / 5280])
                    if (total - 1 == i) {
                        var g = new Dygraph(document.getElementById("data"), data,
                            {
                                drawPoints: true,
                                legend: 'always',
                                labelsDiv: document.getElementById('legend'),
                                labels: ['Time', 'Range', 'Rate', 'Percent', 'Distance From Home'],
                                labelsSeparateLines: true,
                                showRangeSelector: true
                            });
                        g.updateOptions({'file': data});
                    }
                }
            })
        })
    });
</script>
<!--
Best I could do make the graphs resize.
https://stackoverflow.com/questions/45095890/how-to-scale-dygraph-on-a-page-correctly
-->